# 更新日志

## v2.0.0 (2024-11-04) - 重大更新

### 🌟 新增功能

#### 🌍 多语言支持
- ✅ 界面支持中文、日语、英语三种语言
- ✅ 实时语言切换，无需重启应用
- ✅ 完整的本地化支持，包括所有UI元素和提示信息

#### 🎯 卡片显示控制系统
- ✅ 独立的显示控制：可分别启用/禁用日语、假名、中文、音频显示
- ✅ 专项练习模式支持：
  - 纯听写练习（只启用音频）
  - 中译日练习（只启用中文）
  - 假名还原练习（只启用假名）
  - 自定义组合练习
- ✅ 智能提示系统：根据启用选项动态调整输入提示
- ✅ 输入框视觉反馈：禁用的项目会以半透明显示

#### 🛠️ 设置系统优化
- ✅ 新增卡片显示设置区域
- ✅ 设置描述文本，帮助用户理解功能
- ✅ 显示设置重置功能
- ✅ 设置验证：确保至少启用一个显示选项

### 🔧 改进和优化

#### 游戏逻辑
- 🔧 改进随机出题算法：根据显示设置过滤可用出题类型
- 🔧 答案验证逻辑优化：根据显示设置调整验证标准
- 🔧 错误处理增强：防止用户禁用所有显示选项

#### 用户界面
- 🔧 设置界面重新设计，更加直观
- 🔧 新增CSS样式支持设置描述文本
- 🔧 响应式设计优化

#### 数据管理
- 🔧 设置数据结构扩展，支持新的显示控制选项
- 🔧 数据导入导出兼容性增强
- 🔧 默认设置优化

### 🐛 修复的问题

- 🐛 修复语言切换功能不生效的问题
- 🐛 修复设置保存后界面不更新的问题
- 🐛 修复历史记录显示不完整的问题
- 🐛 修复音频播放在某些情况下失败的问题

### 📱 兼容性

- ✅ 保持与v1.0数据的完全兼容
- ✅ 自动升级旧版本设置
- ✅ 浏览器兼容性保持不变

## v1.0.0 (2024-11-04) - 初始版本

### 🌟 基础功能
- ✅ 基本的抽卡游戏系统
- ✅ 单词管理功能
- ✅ 音频播放支持
- ✅ 历史记录和统计
- ✅ 手动/自动模式
- ✅ 数据导入导出
- ✅ 深色/浅色主题
- ✅ 响应式设计

---

## 使用说明

### 从v1.0升级到v2.0
1. 无需任何操作，所有设置会自动升级
2. 新的卡片显示功能默认全部启用
3. 可以在设置中自由配置显示选项

### 推荐的练习流程
1. **初学者**: 启用所有选项，熟悉单词
2. **进阶练习**: 逐步禁用某些选项，增加难度
3. **专项训练**: 根据薄弱环节选择相应的专项模式

---

## 技术细节

### 新增文件
- `js/i18n.js` - 国际化支持模块

### 主要修改文件
- `index.html` - 添加卡片显示设置UI
- `js/app.js` - 添加新的事件处理和逻辑
- `js/dataManager.js` - 扩展设置数据结构
- `js/gameLogic.js` - 优化出题和验证逻辑
- `css/style.css` - 添加新的样式支持

### 数据结构变更
```javascript
// 新增设置选项
{
  enableJapaneseDisplay: true,    // 启用日语显示
  enableKanaDisplay: true,        // 启用假名显示
  enableChineseDisplay: true,     // 启用中文显示
  enableAudioDisplay: true        // 启用音频显示
}
```