# 日语抽卡学习游戏 - 项目说明

## 📋 项目概述

这是一个专为日语学习者设计的Web应用，通过抽卡游戏的形式帮助用户学习日语单词。项目采用纯前端技术栈，无需后端服务器，可以直接在浏览器中运行。

### 🎯 设计理念

- **简单易用**：直观的用户界面，无需学习即可上手
- **针对性强**：通过显示控制系统实现专项练习
- **智能答题**：系统自动判断需要填写的信息，减少用户负担
- **本地化存储**：所有数据存储在本地，保护用户隐私
- **响应式设计**：支持桌面和移动设备

## 🏗️ 技术架构

### 前端技术栈
- **HTML5**：页面结构和语义化标签
- **CSS3**：现代化样式设计，支持响应式布局
- **Vanilla JavaScript**：原生JavaScript，无框架依赖
- **Web Audio API**：音频播放功能
- **LocalStorage**：本地数据持久化

### 项目结构
```
japanese-card-game/
├── index.html              # 主页面
├── css/
│   └── style.css          # 样式文件
├── js/
│   ├── app.js             # 主应用逻辑
│   ├── dataManager.js     # 数据管理模块
│   ├── gameLogic.js       # 游戏逻辑模块
│   └── audioPlayer.js     # 音频播放模块
├── docs/
│   ├── 使用说明.md        # 用户使用指南
│   └── 项目说明.md        # 项目技术文档
├── assets/
│   └── audio/             # 音频文件目录（用户自定义）
├── .gitignore             # Git忽略文件配置
├── .gitattributes         # Git属性配置
├── LICENSE                # 开源许可证
├── package.json           # 项目配置文件
└── README.md              # 项目说明文档
```

## 🔧 核心功能模块

### 1. 数据管理模块 (dataManager.js)
负责所有数据的存储、读取和管理：
- 单词数据的CRUD操作
- 设置项的存储和读取
- 历史记录的管理
- 统计信息的计算
- 数据的导入导出功能

### 2. 游戏逻辑模块 (gameLogic.js)
实现游戏的核心逻辑：
- 抽卡算法和随机性控制
- 智能答案验证系统
- 自动模式和手动模式控制
- 游戏状态管理
- 进度跟踪和统计

### 3. 音频播放模块 (audioPlayer.js)
处理音频相关的所有功能：
- 音频文件的Base64编码存储
- 多种音频格式支持
- 音频播放控制
- 音频预加载和缓存

### 4. 主应用模块 (app.js)
协调各个模块，处理用户界面：
- 标签页切换控制
- 事件监听和处理
- UI状态同步
- 用户输入验证
- 模态框显示控制

## 🎮 核心功能详解

### 智能答题系统
系统的核心创新在于智能答题逻辑：

1. **显示检测**：系统根据当前卡片显示的信息类型
2. **需求判断**：自动确定用户需要填写的信息
3. **自动填充**：已显示的信息自动填入答案
4. **评分计算**：只对需要填写的信息进行评分

示例：
```javascript
// 如果显示的是日语，系统只要求填写假名和中文
if (quizType === 'japanese') {
    fieldsToCheck = ['kana', 'chinese'];
    maxScore = 2;
}
```

### 卡片显示控制系统
允许用户精确控制学习内容：

- **独立控制**：每种信息类型可以独立启用/禁用
- **组合练习**：支持多种信息组合显示
- **专项训练**：针对特定技能进行集中练习
- **难度调节**：通过显示选项控制练习难度

### 自动练习模式
提供自动化的学习体验：

- **定时抽卡**：可配置的时间间隔
- **批量练习**：一次抽取多张卡片
- **进度跟踪**：实时显示练习进度
- **灵活控制**：支持手动提交和自动跳转

## 🎨 用户界面设计

### 设计原则
- **简洁明了**：界面清爽，功能突出
- **一致性**：统一的视觉风格和交互模式
- **响应式**：适配不同屏幕尺寸
- **可访问性**：支持键盘导航和屏幕阅读器

### 视觉设计
- **色彩方案**：主色调采用日式蓝色系，营造学习氛围
- **字体选择**：使用Noto Sans CJK系列字体，确保中日文字显示效果
- **图标系统**：使用Emoji图标，增强视觉趣味性
- **布局结构**：采用网格布局，确保信息层次清晰

### 交互设计
- **即时反馈**：操作后立即给出视觉反馈
- **状态指示**：清晰显示当前系统状态
- **错误处理**：友好的错误提示和处理机制
- **快捷操作**：支持键盘快捷键操作

## 📊 数据管理

### 数据结构

#### 单词数据
```javascript
{
    id: "unique-id",
    japanese: "日本語",
    kana: "にほんご",
    chinese: "日语",
    audio: "base64-encoded-audio-data",
    createdAt: timestamp,
    updatedAt: timestamp
}
```

#### 历史记录
```javascript
{
    id: "unique-id",
    wordId: "referenced-word-id",
    word: { /* 单词完整信息 */ },
    quizType: "japanese|kana|chinese|audio",
    userAnswer: { /* 用户答案 */ },
    correctAnswer: { /* 正确答案 */ },
    isCorrect: boolean,
    timeSpent: number,
    timestamp: timestamp
}
```

#### 设置配置
```javascript
{
    theme: "light|dark",
    autoPlayAudio: boolean,
    showHints: boolean,
    defaultCardType: "random|japanese|kana|chinese|audio",
    enableJapaneseDisplay: boolean,
    enableKanaDisplay: boolean,
    enableChineseDisplay: boolean,
    enableAudioDisplay: boolean
}
```

### 存储策略
- **LocalStorage**：使用浏览器本地存储，数据持久化
- **Base64编码**：音频文件转换为Base64字符串存储
- **JSON格式**：所有数据以JSON格式存储，便于导入导出
- **数据备份**：支持手动备份和恢复功能

## 🔄 开发工作流

### 开发环境
```bash
# 安装依赖
npm install

# 启动开发服务器
npm run dev
```

### 代码规范
- **ES6+语法**：使用现代JavaScript语法
- **模块化设计**：功能模块独立，便于维护
- **注释文档**：关键代码包含详细注释
- **错误处理**：完善的异常捕获和处理机制

### 测试策略
- **功能测试**：手动测试核心功能流程
- **兼容性测试**：测试主流浏览器兼容性
- **响应式测试**：测试不同屏幕尺寸下的显示效果
- **性能测试**：测试大量数据下的应用性能

## 🚀 部署方案

### 静态部署
项目为纯前端应用，支持多种部署方式：

1. **GitHub Pages**：免费的静态网站托管
2. **Netlify**：自动化部署和CDN加速
3. **Vercel**：现代化静态网站部署平台
4. **自建服务器**：任何支持静态文件的Web服务器

### 部署步骤
1. 构建项目（无需额外构建步骤）
2. 将所有文件上传到服务器
3. 配置HTTPS（推荐）
4. 设置合适的缓存策略

## 🔮 未来规划

### 功能增强
- **多语言界面**：支持英语、日语界面
- **更多题型**：填空题、选择题等
- **学习计划**：制定个性化学习计划
- **社交功能**：分享学习进度和成就
- **云同步**：支持云端数据同步

### 技术优化
- **PWA支持**：离线使用和原生应用体验
- **性能优化**：加载速度和运行效率优化
- **移动端优化**：更好的移动设备体验
- **数据分析**：学习数据分析和可视化

### 内容扩展
- **词汇分类**：按主题和难度分类词汇
- **例句支持**：添加单词例句功能
- **语法学习**：扩展到语法学习功能
- **发音练习**：语音识别和发音评估

## 📝 许可证

本项目采用MIT许可证，允许自由使用、修改和分发。详见[LICENSE](../LICENSE)文件。

## 🤝 贡献指南

欢迎提交Issue和Pull Request来改进项目！

### 贡献方式
1. Fork本项目
2. 创建功能分支
3. 提交更改
4. 发起Pull Request

### 开发规范
- 遵循现有代码风格
- 添加必要的注释和文档
- 确保功能正常工作
- 测试兼容性问题

---

感谢您对日语抽卡学习游戏的关注！如有任何问题或建议，欢迎联系我们。